---
sidebar_position: 2
title: Phase Rules
pagination_previous: traffic-policy/concepts/phases
---

# Phase Rules

Phase Rules define the logic that governs how traffic is handled during each phase. They consist of two core components: **Expressions** and **Actions**.

## Expressions

Expressions specify the criteria that traffic must meet for a rule to apply. They are written using CEL (Common Expression Language) and can evaluate various attributes, including:

- **Headers**: Match on specific HTTP headers like `authorization` or `user-agent`.
- **Request Paths**: Match on URI patterns like `/api/v1/`.
- **Connection Metadata**: Inspect details like the client's IP address or protocol type.
- **Geographic Information**: Route based on country or region.

By combining multiple conditions, you can create highly specific and flexible rules to match traffic.

## Actions

Actions determine what happens when a rule's conditions are met.

Common actions include:

- **Allow** or **Deny Traffic**: Permit or block specific traffic.
- **Forward Traffic**: Redirect traffic to a specific upstream service.
- **Rate Limiting**: Limit the number of requests allowed in a given timeframe.
- **Rewrite URLs**: Modify incoming request URLs before forwarding them.
- **Modify Traffic**: Change headers, body content, or other traffic details.

For a full list of actions, check out our [Action Hub](#).

## Chaining Rules and Priority

Multiple rules can be defined within a single phase. Rules are evaluated in the order they are defined, and their execution depends on the type of actions taken. For example:

- Some actions (e.g., deny) immediately stop further rule evaluation.
- Others (e.g., url-rewrite) allow subsequent rules to apply.

This flexibility enables layered and powerful traffic policies.
